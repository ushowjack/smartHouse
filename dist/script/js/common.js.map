{"version":3,"sources":["common.js"],"names":["Array","prototype","myForEach","callBack","context","window","forEach","i","length","call","GetDate","now","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","min","getMinutes","sec","getSeconds","time","Timestamp","url","getTimestamp","indexOf","encodeURI","CookieUtil","get","name","cookieName","encodeURIComponent","cookieStart","document","cookie","cookieValue","cookieEnd","decodeURIComponent","substring","set","value","expires","path","domain","secure","cookieText","toGMTString","unset","FormUtil","placeholderOff","ev","target","val","getAttribute","setAttribute","placeholderOn","setPlaceholder","el","onfocus","onblur","placeholderPolyfill","elemName","css","inputItem","$","each","index","element","placeholder","find","attr","txt","append","focus","text","blur"],"mappings":"AAAA;;;;;AAKA;AACA;;;;;;AAKAA,MAAMC,SAAN,CAAgBC,SAAhB,GAA4B,SAASA,SAAT,CAAmBC,QAAnB,EAA6BC,OAA7B,EAAsC;AAC9D,WAAOA,OAAP,KAAmB,WAAnB,GAAiCA,UAAUC,MAA3C,GAAoD,IAApD;;AAEA,QAAIL,MAAMC,SAAN,CAAgBK,OAAhB,KAA4B,UAAhC,EAA4C;AACxC,aAAKA,OAAL,CAAaH,QAAb,EAAuBC,OAAvB;AACA;AACH;;AAED;AACA,SAAK,IAAIG,IAAI,CAAb,EAAgBA,IAAI,KAAKC,MAAzB,EAAiCD,GAAjC,EAAsC;AAClC,eAAOJ,QAAP,KAAoB,UAApB,GAAiCA,SAASM,IAAT,CAAcL,OAAd,EAAuB,KAAKG,CAAL,CAAvB,EAAgCA,CAAhC,EAAmC,IAAnC,CAAjC,GAA4E,IAA5E;AACH;AACJ,CAZD;;AAeA;;;;;;AAMA,SAASG,OAAT,GAAmB;AACf,QAAIC,MAAO,IAAIC,IAAJ,EAAX;AACA,QAAIC,OAAOF,IAAIG,WAAJ,EAAX;AACA,QAAIC,QAAQJ,IAAIK,QAAJ,KAAiB,CAA7B;AACA,QAAIC,MAAMN,IAAIO,OAAJ,EAAV;AACA,QAAIC,QAAQR,IAAIS,QAAJ,EAAZ;AACA,QAAIC,MAAMV,IAAIW,UAAJ,EAAV;AACA,QAAIC,MAAMZ,IAAIa,UAAJ,EAAV;AACA,QAAIC,OAAUZ,IAAV,SAAkBE,KAAlB,SAA2BE,GAA3B,SAAkCE,KAAlC,SAA2CE,GAA3C,SAAkDE,GAAtD;AACA,WAAOE,IAAP;AACH;AACD;;;;;AAKA,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;;AAEpB,QAAIC,eAAelB,SAAnB;;AAEA,QAAIiB,IAAIE,OAAJ,CAAY,GAAZ,IAAmB,CAAC,CAAxB,EAA2B;AACvBF,cAASA,GAAT,mBAA0BC,YAA1B;AACH,KAFD,MAEO;AACHD,cAASA,GAAT,mBAA0BC,YAA1B;AACH;AACD,WAAOE,UAAUH,GAAV,CAAP;AACH;;AAGD;;;;;AAKA,IAAII,aAAa;AACb;;;;;AAKAC,SAAK,aAAUC,IAAV,EAAgB;AACjB,YAAIC,aAAaC,mBAAmBF,IAAnB,IAA2B,GAA5C;AAAA,YACIG,cAAcC,SAASC,MAAT,CAAgBT,OAAhB,CAAwBK,UAAxB,CADlB;AAAA,YAEIK,cAAc,IAFlB;;AAIA,YAAIH,cAAc,CAAC,CAAnB,EAAsB;AAClB,gBAAII,YAAYH,SAASC,MAAT,CAAgBT,OAAhB,CAAwB,GAAxB,EAA6BO,WAA7B,CAAhB;AACA,gBAAII,cAAc,CAAC,CAAnB,EAAsB;AAClBA,4BAAYH,SAASC,MAAT,CAAgB9B,MAA5B;AACH;AACD+B,0BAAcE,mBAAmBJ,SAASC,MAAT,CAAgBI,SAAhB,CAA0BN,cAAcF,WAAW1B,MAAnD,EAA2DgC,SAA3D,CAAnB,CAAd;AACH;;AAED,eAAOD,WAAP;AACH,KApBY;AAqBb;;;;;;;;;AASAI,SAAK,mBAAwD;AAAA,YAA7CV,IAA6C,QAA7CA,IAA6C;AAAA,YAAvCW,KAAuC,QAAvCA,KAAuC;AAAA,YAAhCC,OAAgC,QAAhCA,OAAgC;AAAA,YAAvBC,IAAuB,QAAvBA,IAAuB;AAAA,YAAjBC,MAAiB,QAAjBA,MAAiB;AAAA,YAATC,MAAS,QAATA,MAAS;;AACzD,YAAIC,aAAad,mBAAmBF,IAAnB,IAA2B,GAA3B,GAAiCE,mBAAmBS,KAAnB,CAAlD;AACA,YAAIC,OAAJ,EAAa;AACT,gBAAIlC,MAAMC,KAAKD,GAAL,EAAV;AACAkC,sBAAU,IAAIjC,IAAJ,CAASD,MAAMkC,UAAU,QAAzB,CAAV;AACH;AACD,YAAIA,mBAAmBjC,IAAvB,EAA6B;AACzBqC,0BAAc,eAAeJ,QAAQK,WAAR,EAA7B;AACH;AACD,YAAIJ,IAAJ,EAAU;AACNG,0BAAc,YAAYH,IAA1B;AACH;AACD,YAAIC,MAAJ,EAAY;AACRE,0BAAc,cAAcF,MAA5B;AACH;AACD,YAAIC,MAAJ,EAAY;AACRC,0BAAc,UAAd;AACH;AACDZ,iBAASC,MAAT,GAAkBW,UAAlB;AACH,KAjDY;AAkDb;;;;;;;AAOAE,WAAO,sBAAwC;AAAA,YAA7BlB,IAA6B,SAA7BA,IAA6B;AAAA,YAAvBa,IAAuB,SAAvBA,IAAuB;AAAA,YAAjBC,MAAiB,SAAjBA,MAAiB;AAAA,YAATC,MAAS,SAATA,MAAS;;AAC3C,aAAKL,GAAL,CAAS,EAACV,MAAMA,IAAP,EAAaW,OAAO,EAApB,EAAwBE,MAAMA,IAA9B,EAAoCC,QAAQA,MAA5C,EAAoDC,QAAQA,MAA5D,EAAT;AACH;AA3DY,CAAjB;;AA8DA;;;;AAIA,IAAII,WAAW;AACX;;;;;;AAMAC,oBAAgB,wBAAUC,EAAV,EAAc;AAC1BA,WAAGC,MAAH,CAAUC,GAAV,GAAgBF,GAAGC,MAAH,CAAUE,YAAV,CAAuB,aAAvB,CAAhB;AACAH,WAAGC,MAAH,CAAUG,YAAV,CAAuB,aAAvB,EAAsC,EAAtC;AACH,KAVU;AAWXC,mBAAe,uBAAUL,EAAV,EAAc;AACzBA,WAAGC,MAAH,CAAUG,YAAV,CAAuB,aAAvB,EAAsCJ,GAAGC,MAAH,CAAUC,GAAhD;AACH,KAbU;AAcXI,oBAAgB,wBAAUC,EAAV,EAAc;AAC1BA,WAAGC,OAAH,GAAaV,SAASC,cAAtB;AACAQ,WAAGE,MAAH,GAAYX,SAASO,aAArB;AACH,KAjBU;AAkBX;;;;;;;;AAQAK,yBAAqB,6BAAUC,QAAV,EASlB;AAAA,YATsCC,GAStC,uEAT4C;AAC3C,qBAAS,oBADkC;AAE3C,2BAAe,MAF4B;AAG3C,yBAAa,MAH8B;AAI3C,wBAAY,UAJ+B;AAK3C,uBAAW,QALgC;AAM3C,mBAAO,CANoC;AAO3C,oBAAQ,EAPmC;AAQ3C,uBAAW;AARgC,SAS5C;;AACC,YAAIC,YAAYC,EAAEH,QAAF,CAAhB;AACAE,kBAAUE,IAAV,CAAe,UAAUC,KAAV,EAAiBC,OAAjB,EAA0B;AACrC,gBAAIC,cAAcJ,EAAEG,OAAF,EAAWE,IAAX,CAAgB,OAAhB,EAAyBC,IAAzB,CAA8B,aAA9B,CAAlB;AACA,gBAAIC,MAAMP,YAAUI,WAAV,YAAV;AACAG,gBAAIT,GAAJ,CAAQA,GAAR;AACAE,cAAEG,OAAF,EAAWK,MAAX,CAAkBD,GAAlB;AACAP,cAAEG,OAAF,EAAWE,IAAX,CAAgB,OAAhB,EAAyBI,KAAzB,CAA+B,YAAY;AACvCF,oBAAIG,IAAJ,CAAS,EAAT;AACH,aAFD;AAGAV,cAAEG,OAAF,EAAWE,IAAX,CAAgB,OAAhB,EAAyBM,IAAzB,CAA8B,YAAY;;AAEtC,oBAAI,CAAC,KAAKnC,KAAV,EAAiB;AACb+B,wBAAIG,IAAJ,CAASN,WAAT;AACH;AACJ,aALD;AAMH,SAdD;AAeH;AApDU,CAAf","file":"common.js","sourcesContent":["/**\r\n * User: Ushow Jack/youshoujie@tomee.cn\r\n * Date: 2017/4/11\r\n * Time: 16:04\r\n */\r\n\"use strict\"\r\n/**\r\n * 处理forEach兼容性问题\r\n * @param callBack\r\n * @param context\r\n */\r\nArray.prototype.myForEach = function myForEach(callBack, context) {\r\n    typeof context === \"undefined\" ? context = window : null;\r\n\r\n    if (Array.prototype.forEach === \"Function\") {\r\n        this.forEach(callBack, context);\r\n        return;\r\n    }\r\n\r\n    //->不兼容处理\r\n    for (var i = 0; i < this.length; i++) {\r\n        typeof callBack === \"function\" ? callBack.call(context, this[i], i, this) : null;\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * 获取当前时间方法\r\n *\r\n * @returns {string}\r\n * @constructor\r\n */\r\nfunction GetDate() {\r\n    let now =  new Date();\r\n    let year = now.getFullYear();\r\n    let month = now.getMonth() + 1;\r\n    let day = now.getDate();\r\n    let hours = now.getHours();\r\n    let min = now.getMinutes();\r\n    let sec = now.getSeconds();\r\n    let time = `${year}-${month}-${day} ${hours}:${min}:${sec}`;\r\n    return time;\r\n}\r\n/**\r\n * 增加时间戳，解决浏览器缓存\r\n * @param url [string]\r\n * @returns {url}\r\n */\r\nfunction Timestamp(url) {\r\n\r\n    let getTimestamp = GetDate();\r\n\r\n    if (url.indexOf(\"?\") > -1) {\r\n        url = `${url}&timestamp=${getTimestamp}`;\r\n    } else {\r\n        url = `${url}?timestamp=${getTimestamp}`;\r\n    }\r\n    return encodeURI(url);\r\n}\r\n\r\n\r\n/**\r\n *  * 来源：JavaScript高级程序设计，由Ushow改写\r\n * @type {{get: CookieUtil.get, set: CookieUtil.set, unset: CookieUtil.unset}}\r\n * @version 1.0\r\n */\r\nlet CookieUtil = {\r\n    /**\r\n     * 获取cookie值\r\n     * @param name {string}\r\n     * @returns {strung} 返回对应的值\r\n     */\r\n    get: function (name) {\r\n        let cookieName = encodeURIComponent(name) + \"=\",\r\n            cookieStart = document.cookie.indexOf(cookieName),\r\n            cookieValue = null;\r\n\r\n        if (cookieStart > -1) {\r\n            let cookieEnd = document.cookie.indexOf(\";\", cookieStart);\r\n            if (cookieEnd === -1) {\r\n                cookieEnd = document.cookie.length;\r\n            }\r\n            cookieValue = decodeURIComponent(document.cookie.substring(cookieStart + cookieName.length, cookieEnd));\r\n        }\r\n\r\n        return cookieValue;\r\n    },\r\n    /**\r\n     * 写入cookie方法\r\n     * @param name{string}          键名\r\n     * @param value{string/num}     键值\r\n     * @param expires{int}          有效天数（默认浏览器关闭后清除）\r\n     * @param path{string}          路径\r\n     * @param domain{string}        域名（默认当前域名）\r\n     * @param secure{boolean}       安全\r\n     */\r\n    set: function ({name, value, expires, path, domain, secure}) {\r\n        let cookieText = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\r\n        if (expires) {\r\n            let now = Date.now();\r\n            expires = new Date(now + expires * 86400000);\r\n        }\r\n        if (expires instanceof Date) {\r\n            cookieText += \"; expires=\" + expires.toGMTString();\r\n        }\r\n        if (path) {\r\n            cookieText += \"; path=\" + path;\r\n        }\r\n        if (domain) {\r\n            cookieText += \"; domain=\" + domain;\r\n        }\r\n        if (secure) {\r\n            cookieText += \"; secure\";\r\n        }\r\n        document.cookie = cookieText;\r\n    },\r\n    /**\r\n     * 覆盖cookie函数\r\n     * @param name{string}          键名\r\n     * @param path{string}          路径\r\n     * @param domain{string}        域名（默认当前域名）\r\n     * @param secure{boolean}       安全\r\n     */\r\n    unset: function ({name, path, domain, secure}) {\r\n        this.set({name: name, value: \"\", path: path, domain: domain, secure: secure});\r\n    }\r\n}\r\n\r\n/**\r\n * 表单方法集合\r\n * @type {{placeholderOff: FormUtil.placeholderOff, placeholderOn: FormUtil.placeholderOn, setPlaceholder: FormUtil.setPlaceholder, placeholderPolyfill: FormUtil.placeholderPolyfill}}\r\n */\r\nlet FormUtil = {\r\n    /**\r\n     * 用于绑定input的placeholder事件\r\n     * @example inputElem.forEach(FormUtil.setPlaceholder)\r\n     * @param el {DOM对象}\r\n     * @version 1.0\r\n     */\r\n    placeholderOff: function (ev) {\r\n        ev.target.val = ev.target.getAttribute(\"placeholder\");\r\n        ev.target.setAttribute(\"placeholder\", \"\");\r\n    },\r\n    placeholderOn: function (ev) {\r\n        ev.target.setAttribute(\"placeholder\", ev.target.val);\r\n    },\r\n    setPlaceholder: function (el) {\r\n        el.onfocus = FormUtil.placeholderOff;\r\n        el.onblur = FormUtil.placeholderOn;\r\n    },\r\n    /**\r\n     * 解决IE9不能使用placeholder的问题，输入想使用placeholder的选择器\r\n     * 设置对应input的标签的placeholder的值即可\r\n     * @depend  jQuery\r\n     * @example placeholderFn(\".input-item\");\r\n     * @param elemName\r\n     * @param css\r\n     */\r\n    placeholderPolyfill: function (elemName, css = {\r\n        \"color\": \"rgb(204, 204, 204)\",\r\n        \"line-height\": \"40px\",\r\n        \"font-size\": \"14px\",\r\n        \"position\": \"absolute\",\r\n        \"display\": \"inline\",\r\n        \"top\": 0,\r\n        \"left\": 50,\r\n        \"z-index\": 2\r\n    }) {\r\n        let inputItem = $(elemName);\r\n        inputItem.each(function (index, element) {\r\n            let placeholder = $(element).find(\"input\").attr(\"placeholder\");\r\n            let txt = $(`<txt>${placeholder}</txt>`);\r\n            txt.css(css);\r\n            $(element).append(txt);\r\n            $(element).find(\"input\").focus(function () {\r\n                txt.text(\"\");\r\n            });\r\n            $(element).find(\"input\").blur(function () {\r\n\r\n                if (!this.value) {\r\n                    txt.text(placeholder);\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n"]}