"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var inputElem=[].concat(_toConsumableArray(document.querySelectorAll("input")));inputElem.forEach(FormUtil.setPlaceholder);var captchaIMG=document.querySelector("img[alt='captcha']");captchaIMG.onclick=function(){return captchaIMG.src=Timestamp(captchaIMG.src)};var captchaInput=document.querySelector("input[name='captcha']");captchaInput.onkeyup=function(){var e=document.querySelector(".forget>span");if(captchaInput.value.length>=4){var t=AJAXFn.createXHR(),a=URL+"/captcha/captcha/"+captchaInput.value;t.open("get",a,!0),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){"101201"===JSON.parse(t.responseText).status?(e.innerText="验证码输入正确",e.className="success"):(e.innerText="验证码输入错误",e.className="warn")}},t.send(null)}else e.innerText=""};var loginBtn=document.querySelector("#login");loginBtn.onclick=function(){captchaIMG.src=Timestamp(captchaIMG.src);var e=document.querySelector(".forget>span");if(serialize.checkForm()){var t=AJAXFn.createXHR(),a=[].concat(_toConsumableArray(document.querySelectorAll("input"))),n=URL+"/logincheck";t.open("post",n,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var a=JSON.parse(t.responseText);console.log(a),"101100"===a.status&&(e.innerText=a.msg,e.className="warn")}},console.log(serialize.serializeInput(a)),t.send(serialize.serializeInput(a))}};
//# sourceMappingURL=login.js.map
